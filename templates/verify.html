{% extends "base.html" %}
{% block content %}

<div class="container">

  <div class="image-wrapper" style="position: relative; width: 120px; height: 120px; margin: 0 auto 1rem;">
    <img src="{{ student.ImageURL }}" class="round-img" id="studentImg"
      onerror="this.style.display='none'; document.getElementById('imageFallback').style.display='flex';">

    <div id="imageFallback"
      style="display: none; width: 120px; height: 120px; border-radius: 50%; background: #e2e8f0; color: #64748b; align-items: center; justify-content: center; font-size: 2.5rem; font-weight: 700; border: 4px solid var(--primary); box-shadow: var(--shadow);">
      {{ student.Name[0] }}
    </div>
  </div>

  <h3>{{ student.Name }}</h3>
  <p>Enrollment: {{ student.Enrollment }}</p>
  <p>Course: {{ student.Course }} | Section: {{ student.Section }}</p>
  <p>Latitude: {{ latitude }}</p>
  <p>Longitude: {{ longitude }}</p>

  <form action="/submit_code" method="POST">

    <input type="hidden" name="enrollment" value="{{ student.Enrollment }}">
    <input type="hidden" name="name" value="{{ student.Name }}">
    <input type="hidden" name="latitude" value="{{ latitude }}">
    <input type="hidden" name="longitude" value="{{ longitude }}">
    <input type="hidden" name="section" value="{{ student.Section }}">
    <input type="hidden" name="course" value="{{ student.Course }}">
    <input type="hidden" name="image_url" value="{{ student.ImageURL }}">

    <input type="text" name="code" placeholder="Enter Admin Code" required>
    <button type="submit">Submit Code</button>

  </form>
</div>

{% endblock %}